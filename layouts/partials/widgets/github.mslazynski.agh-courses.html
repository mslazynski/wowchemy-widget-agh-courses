{{ $ := .root }}
{{ $page := .page }}

<!-- agh-courses widget -->
<div class="row">
  <div class="col-12 col-lg-4">
      <div class="section-subheading">Courses</div>
        {{ range $page.Params.courses }}
        {{ $pack := or .link_icon_pack "fas" }}
        {{ $pack_prefix := $pack }}
        {{ if in (slice "fab" "fas" "far" "fal") $pack }}
          {{ $pack_prefix = "fa" }}
        {{ end }}
        {{ $link := .link }}
        {{ $link_name := or .link_name "Syllabus" }}
        {{ $link_icon := or .link_icon "file-pdf" }}
        {{ $scheme := (urls.Parse $link).Scheme }}
        {{ $target := "" }}
        {{ if not $scheme }}
          {{ $link = .link | relLangURL }}
        {{ else if in (slice "http" "https") $scheme }}
          {{ $target = "target=\"_blank\" rel=\"noopener\"" }}
        {{ end }}
        <details class="spoiler " id="spoiler-0">
        <summary>{{ .name | markdownify}}</summary>
        <ul class="ul-social fa-ul">
        <li style="font-size: 0.9rem;">
          <p>{{ .about | markdownify | emojify }}</p> 
        </li>
        <li style="display: inline-block; font-size: 0.75rem;">
        <i class="fa-solid fa-calendar"></i> {{ .when | markdownify }}</p>    
        </li>
        <li style="display: inline-block; font-size: 0.75rem;">
        <i class="fa-solid fa-globe"></i> {{ .lang | markdownify }}
        </li>
        {{ if .link }}
        <li style="display: inline-block; font-size: 0.75rem;">   
          <a href="{{ $link | safeURL }}" {{ $target | safeHTMLAttr }} aria-label="{{ $link_icon }}">
          <i class="fa-li {{ $pack }} {{ $pack_prefix }}-{{ $link_icon }}"></i> {{ $link_name }}
          </a>
        </li>
        {{ end }}
        </ul>
        </details>
        {{ end }}
  </div>
  <div class="col-12 col-lg-8">
    {{ $page.Content }} 
  </div>
</div>
